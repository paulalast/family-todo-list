"use strict";function _createForOfIteratorHelper(e,t){var r,o,n,a,c="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(c)return o=!(r=!0),{s:function(){c=c.call(e)},n:function(){var e=c.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==c.return||c.return()}finally{if(o)throw n}}};if(Array.isArray(e)||(c=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return c&&(e=c),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var membersList=document.querySelector(".members__list"),todoLists=document.querySelectorAll(".todo__list"),membersBoard=document.querySelector(".members__board"),memberSelect=document.querySelector(".newtask__board select.member"),newtaskBoard=document.querySelector(".newtask__board"),addTaskBtn=document.querySelector(".addTask"),saveNewTaskBtn=document.querySelector(".save"),cancelNewTaskBtn=document.querySelector(".cancel"),newmemberBoard=document.querySelector(".newmember__board"),addMemberBtn=document.querySelector(".addMember"),newNameInput=document.querySelector(".newmember__name"),newColorSelect=document.querySelector(".select__color"),saveMember=document.querySelector(".saveMember"),cancelMember=document.querySelector(".cancelMember"),daySelect=document.querySelector(".day"),taskInput=document.querySelector(".task"),dayBoxes=document.querySelectorAll(".daybox"),showTaskCreator=(document.querySelector(".newtask__board").addEventListener("click",function(e){e.stopPropagation()}),function(){newtaskBoard.classList.add("show")}),showMemberCreator=function(){newmemberBoard.classList.add("show")},checkColorAvailability=function(e){return-1===Array.from(document.querySelectorAll(".member__color")).map(function(e){return e.style.backgroundColor}).indexOf("rgb(".concat(e,")"))},clearInputs=function(){taskInput.value="",daySelect.value="",newNameInput.value="";var e,t=_createForOfIteratorHelper(document.getElementsByTagName("input"));try{for(t.s();!(e=t.n()).done;)e.value.value=""}catch(e){t.e(e)}finally{t.f()}},closeWindow=function(){newtaskBoard.classList.add("close"),newtaskBoard.classList.remove("show"),newmemberBoard.classList.add("close"),newmemberBoard.classList.remove("show")},createNewTask=function(){var e,t=daySelect.value,r=taskInput.value,o=memberSelect.value,n=memberSelect.options[memberSelect.selectedIndex].getAttribute("data-color");t&&r&&o&&(o="#day".concat(t),t=document.querySelector(o).querySelector(".todo__list"),(e=document.createElement("li")).classList.add("todo__list__item"),e.innerHTML='<img class="checkmark" src="./dist/img/icons/checkmark.png" alt=""> '.concat(r),e.style.background="#".concat(n),t.appendChild(e),e.addEventListener("click",function(){e.classList.toggle("done")}),clearInputs())},addNewFamilyMember=function(e,t){var r=document.querySelector(".member"),o=document.createElement("option");o.value=e,o.textContent=e,o.style.backgroundColor=t,r.appendChild(o)},saveNewMember=function(){var e,t,r,o,n=newNameInput.value.trim(),a=document.querySelector(".members__list"),c=document.querySelector(".select__color"),l=memberSelect.querySelectorAll("option");n?Array.from(l).find(function(e){return e.value.toLowerCase()===n.toLowerCase()})?alert("Member ".concat(n," already exists.")):(l=c.value.toLowerCase(),Array.from(document.querySelectorAll(".member__color")).map(function(e){return e.style.backgroundColor.substring(1).toLowerCase()}),checkColorAvailability(l)?((e=document.createElement("li")).classList.add("member"),(t=document.createElement("div")).classList.add("member__color"),t.style.backgroundColor="#"+l,(r=document.createElement("p")).innerHTML=n,o=Date.now().toString(36)+Math.random().toString(36).substr(2,5),e.setAttribute("id","member-".concat(o)),(o=document.createElement("option")).value=n,o.textContent=n,o.dataset.color=l,memberSelect.appendChild(o),e.appendChild(t),e.appendChild(r),a.appendChild(e),c.querySelector("option[value='".concat(l,"']")).setAttribute("disabled",!0),clearInputs(),closeWindow()):alert("Color ".concat(l," is already in use by another family member."))):newNameInput.placeholder="Please enter a name before you save"},saveTask=function(){createNewTask(),clearInputs(),closeWindow()};taskInput.addEventListener("keydown",function(e){"Enter"===e.key&&saveTask()}),addTaskBtn.addEventListener("click",showTaskCreator),cancelNewTaskBtn.addEventListener("click",closeWindow),saveNewTaskBtn.addEventListener("click",saveTask),addMemberBtn.addEventListener("click",showMemberCreator),cancelMember.addEventListener("click",closeWindow),saveMember.addEventListener("click",saveNewMember);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJtZW1iZXJzTGlzdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRvZG9MaXN0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtZW1iZXJzQm9hcmQiLCJtZW1iZXJTZWxlY3QiLCJuZXd0YXNrQm9hcmQiLCJhZGRUYXNrQnRuIiwiY2FuY2VsTmV3VGFza0J0biIsIm5ld21lbWJlckJvYXJkIiwiYWRkTWVtYmVyQnRuIiwibmV3TmFtZUlucHV0IiwibmV3Q29sb3JTZWxlY3QiLCJzYXZlTWVtYmVyIiwiZGF5U2VsZWN0IiwidGFza0lucHV0IiwiZGF5Qm94ZXMiLCJzaG93VGFza0NyZWF0b3IiLCJjbGFzc0xpc3QiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImNoZWNrQ29sb3JBdmFpbGFiaWxpdHkiLCJzaG93TWVtYmVyQ3JlYXRvciIsIm1lbWJlckNvbG9ycyIsImluZGV4T2YiLCJjb2xvciIsImlucHV0cyIsIkFycmF5IiwiZnJvbSIsIm1hcCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJjbGVhcklucHV0cyIsImlucHV0IiwiX3N0ZXAiLCJ2YWx1ZSIsIl9pdGVyYXRvciIsInMiLCJuIiwiZG9uZSIsImVyciIsImUiLCJmIiwiY2xvc2VXaW5kb3ciLCJhZGQiLCJyZW1vdmUiLCJzZWxlY3RlZERheSIsInRvZG9MaXN0IiwidGFzayIsInNlbGVjdGVkTWVtYmVyIiwic2VsZWN0ZWRDb2xvciIsIm9wdGlvbnMiLCJjb25jYXQiLCJnZXRBdHRyaWJ1dGUiLCJkYXlFbCIsImxpc3RJdGVtIiwiY3JlYXRlRWxlbWVudCIsImRheUlkIiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwiYWRkTmV3RmFtaWx5TWVtYmVyIiwidG9nZ2xlIiwic2VsZWN0IiwibmFtZSIsInNhdmVOZXdNZW1iZXIiLCJvcHRpb24iLCJuZXdNZW1iZXJOYW1lIiwibWVtYmVyU2VsZWN0T3B0aW9ucyIsIm5ld01lbWJlck9wdGlvbiIsIm5ld01lbWJlciIsInRyaW0iLCJleGlzdGluZ09wdGlvbiIsInRvTG93ZXJDYXNlIiwiYWxlcnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJtZW1iZXJDb2xvciIsIm1lbWJlck5hbWUiLCJpbm5lckhUTUwiLCJzdWJzdHJpbmciLCJtZW1iZXJJZCIsInRvU3RyaW5nIiwiZGF0YXNldCIsImNyZWF0ZU5ld1Rhc2siLCJNYXRoIiwicmFuZG9tIiwic3Vic3RyIiwidGV4dENvbnRlbnQiLCJzYXZlTmV3VGFza0J0biIsInNldEF0dHJpYnV0ZSIsInBsYWNlaG9sZGVyIiwic2F2ZVRhc2siLCJrZXkiLCJjYW5jZWxNZW1iZXIiXSwibWFwcGluZ3MiOiJvb0NBQUEsSUFBTUEsWUFBY0MsU0FBU0MsY0FBYyxnQkFBZ0IsRUFDckRDLFVBQVlGLFNBQVNHLGlCQUFpQixhQUFhLEVBRW5EQyxhQUFlSixTQUFTQyxjQUFjLGlCQUFpQixFQUN2REksYUFBZUwsU0FBU0MsY0FBYywrQkFBK0IsRUFIckVDLGFBQVlGLFNBQVNHLGNBQWlCLGlCQUFjLEVBRXBEQyxXQUFlSixTQUFTQyxjQUFjLFVBQUEsRUFHdENLLGVBQWVOLFNBQVNDLGNBQWMsT0FBQSxFQUN0Q00saUJBQXFCUCxTQUFDQyxjQUFjLFNBQVcsRUFHL0NPLGVBQW1CUixTQUFTQyxjQUFjLG1CQUFVLEVBRXBEUSxhQUFpQlQsU0FBU0MsY0FBYyxZQUFBLEVBQ3hDUyxhQUFlVixTQUFTQyxjQUFjLGtCQUFhLEVBQ25EVSxlQUFlWCxTQUFTQyxjQUFjLGdCQUFtQixFQUN6RFcsV0FBY1osU0FBR0EsY0FBU0MsYUFBYyxFQUN4Q1ksYUFBYWIsU0FBU0MsY0FBYyxlQUFjLEVBR2xEYSxVQUFZZCxTQUFTQyxjQUFjLE1BQU8sRUFDMUNjLFVBQVlmLFNBQVNDLGNBQWMsT0FBUSxFQUMzQ2UsU0FBV2hCLFNBQVNHLGlCQUFpQixTQUFVLEVBZXBEYyxpQkFSQWpCLFNBRURD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YnBELFlBQVcsRUFDWFcsWUFBVyxDQUNaLEVBQ0E1QixVQUFVNEMsaUJBQWlCLFVBQVcsU0FBQXhDLEdBQ25CLFVBQWRBLEVBQU0wRSxLQUNURCxTQUFRLENBRVYsQ0FBQyxFQUVEckYsV0FBV29ELGlCQUFpQixRQUFTMUMsZUFBZSxFQUNwRFQsaUJBQWlCbUQsaUJBQWlCLFFBQVNoQixXQUFXLEVBQ3REOEMsZUFBZTlCLGlCQUFpQixRQUFTaUMsUUFBUSxFQUVqRGxGLGFBQWFpRCxpQkFBaUIsUUFBU3JDLGlCQUFpQixFQUN4RHdFLGFBQWFuQyxpQkFBaUIsUUFBU2hCLFdBQVcsRUFDbEQ5QixXQUFXOEMsaUJBQWlCLFFBQVNPLGFBQWEiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1lbWJlcnNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW1iZXJzX19saXN0XCIpXG5jb25zdCB0b2RvTGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvZG9fX2xpc3RcIilcblxuY29uc3QgbWVtYmVyc0JvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW1iZXJzX19ib2FyZFwiKVxuY29uc3QgbWVtYmVyU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXd0YXNrX19ib2FyZCBzZWxlY3QubWVtYmVyXCIpXG5cbmNvbnN0IG5ld3Rhc2tCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3dGFza19fYm9hcmRcIilcbmNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZFRhc2tcIilcblxuY29uc3Qgc2F2ZU5ld1Rhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNhdmVcIilcbmNvbnN0IGNhbmNlbE5ld1Rhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNlbFwiKVxuXG5jb25zdCBuZXdtZW1iZXJCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3bWVtYmVyX19ib2FyZFwiKVxuY29uc3QgYWRkTWVtYmVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGRNZW1iZXJcIilcbmNvbnN0IG5ld05hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3bWVtYmVyX19uYW1lXCIpXG5jb25zdCBuZXdDb2xvclNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0X19jb2xvclwiKVxuY29uc3Qgc2F2ZU1lbWJlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2F2ZU1lbWJlclwiKVxuY29uc3QgY2FuY2VsTWVtYmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYW5jZWxNZW1iZXJcIilcblxuY29uc3QgZGF5U2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kYXlcIilcbmNvbnN0IHRhc2tJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFza1wiKVxuY29uc3QgZGF5Qm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRheWJveFwiKVxuXG5cbmRvY3VtZW50XG5cdC5xdWVyeVNlbGVjdG9yKFwiLm5ld3Rhc2tfX2JvYXJkXCIpXG5cdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblx0fSlcblxuY29uc3Qgc2hvd1Rhc2tDcmVhdG9yID0gKCkgPT4ge1xuXHRuZXd0YXNrQm9hcmQuY2xhc3NMaXN0LmFkZChcInNob3dcIilcbn1cblxuY29uc3Qgc2hvd01lbWJlckNyZWF0b3IgPSAoKSA9PiB7XG5cdG5ld21lbWJlckJvYXJkLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpXG59XG5cbmNvbnN0IGNoZWNrQ29sb3JBdmFpbGFiaWxpdHkgPSBjb2xvciA9PiB7XG5cdGNvbnN0IG1lbWJlckNvbG9ycyA9IEFycmF5LmZyb20oXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tZW1iZXJfX2NvbG9yXCIpXG5cdCkubWFwKGNvbG9yID0+IGNvbG9yLnN0eWxlLmJhY2tncm91bmRDb2xvcilcblx0cmV0dXJuIG1lbWJlckNvbG9ycy5pbmRleE9mKGByZ2IoJHtjb2xvcn0pYCkgPT09IC0xXG59XG5cbmNvbnN0IGNsZWFySW5wdXRzID0gKCkgPT4ge1xuXHR0YXNrSW5wdXQudmFsdWUgPSBcIlwiXG5cdGRheVNlbGVjdC52YWx1ZSA9IFwiXCJcblx0bmV3TmFtZUlucHV0LnZhbHVlID0gXCJcIlxuXHRjb25zdCBpbnB1dHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpXG5cdGZvciAobGV0IGlucHV0IG9mIGlucHV0cykge1xuXHRcdGlucHV0LnZhbHVlID0gXCJcIlxuXHR9XG59XG5cbmNvbnN0IGNsb3NlV2luZG93ID0gKCkgPT4ge1xuXHRuZXd0YXNrQm9hcmQuY2xhc3NMaXN0LmFkZChcImNsb3NlXCIpXG5cdG5ld3Rhc2tCb2FyZC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKVxuXHRuZXdtZW1iZXJCb2FyZC5jbGFzc0xpc3QuYWRkKFwiY2xvc2VcIilcblx0bmV3bWVtYmVyQm9hcmQuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIilcbn1cblxuY29uc3QgY3JlYXRlTmV3VGFzayA9ICgpID0+IHtcblx0Y29uc3Qgc2VsZWN0ZWREYXkgPSBkYXlTZWxlY3QudmFsdWVcblx0Y29uc3QgdGFzayA9IHRhc2tJbnB1dC52YWx1ZVxuXHRjb25zdCBzZWxlY3RlZE1lbWJlciA9IG1lbWJlclNlbGVjdC52YWx1ZVxuXHRjb25zdCBzZWxlY3RlZENvbG9yID1cblx0XHRtZW1iZXJTZWxlY3Qub3B0aW9uc1ttZW1iZXJTZWxlY3Quc2VsZWN0ZWRJbmRleF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1jb2xvclwiKVxuXG5cdGlmIChzZWxlY3RlZERheSAmJiB0YXNrICYmIHNlbGVjdGVkTWVtYmVyKSB7XG5cdFx0Y29uc3QgZGF5SWQgPSBgI2RheSR7c2VsZWN0ZWREYXl9YFxuXHRcdGNvbnN0IGRheUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXlJZClcblx0XHRjb25zdCB0b2RvTGlzdCA9IGRheUVsLnF1ZXJ5U2VsZWN0b3IoXCIudG9kb19fbGlzdFwiKVxuXG5cdFx0Y29uc3QgbGlzdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIilcblx0XHRsaXN0SXRlbS5jbGFzc0xpc3QuYWRkKFwidG9kb19fbGlzdF9faXRlbVwiKVxuXHRcdGxpc3RJdGVtLmlubmVySFRNTCA9IGA8aW1nIGNsYXNzPVwiY2hlY2ttYXJrXCIgc3JjPVwiLi9kaXN0L2ltZy9pY29ucy9jaGVja21hcmsucG5nXCIgYWx0PVwiXCI+ICR7dGFza31gXG5cdFx0bGlzdEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGAjJHtzZWxlY3RlZENvbG9yfWBcblxuXHRcdHRvZG9MaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKVxuXHRcdGxpc3RJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cdFx0XHRsaXN0SXRlbS5jbGFzc0xpc3QudG9nZ2xlKFwiZG9uZVwiKVxuXHRcdH0pXG5cdFx0Y2xlYXJJbnB1dHMoKVxuXHR9XG59XG5cbmNvbnN0IGFkZE5ld0ZhbWlseU1lbWJlciA9IChuYW1lLCBjb2xvcikgPT4ge1xuXHRjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbWJlclwiKVxuXHRjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpXG5cdG9wdGlvbi52YWx1ZSA9IG5hbWVcblx0b3B0aW9uLnRleHRDb250ZW50ID0gbmFtZVxuXHRvcHRpb24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3Jcblx0c2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbilcbn1cblxuY29uc3Qgc2F2ZU5ld01lbWJlciA9ICgpID0+IHtcblx0Y29uc3QgbmV3TWVtYmVyTmFtZSA9IG5ld05hbWVJbnB1dC52YWx1ZS50cmltKClcblx0Y29uc3QgbWVtYmVyc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbWJlcnNfX2xpc3RcIilcblx0Y29uc3QgbmV3Q29sb3JTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlbGVjdF9fY29sb3JcIilcblx0Y29uc3QgbWVtYmVyU2VsZWN0T3B0aW9ucyA9IG1lbWJlclNlbGVjdC5xdWVyeVNlbGVjdG9yQWxsKFwib3B0aW9uXCIpXG5cblx0aWYgKCFuZXdNZW1iZXJOYW1lKSB7XG5cdFx0bmV3TmFtZUlucHV0LnBsYWNlaG9sZGVyID0gXCJQbGVhc2UgZW50ZXIgYSBuYW1lIGJlZm9yZSB5b3Ugc2F2ZVwiXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRjb25zdCBleGlzdGluZ09wdGlvbiA9IEFycmF5LmZyb20obWVtYmVyU2VsZWN0T3B0aW9ucykuZmluZChcblx0XHRvcHRpb24gPT4gb3B0aW9uLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IG5ld01lbWJlck5hbWUudG9Mb3dlckNhc2UoKVxuXHQpXG5cblx0aWYgKGV4aXN0aW5nT3B0aW9uKSB7XG5cdFx0YWxlcnQoYE1lbWJlciAke25ld01lbWJlck5hbWV9IGFscmVhZHkgZXhpc3RzLmApXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRjb25zdCBzZWxlY3RlZENvbG9yID0gbmV3Q29sb3JTZWxlY3QudmFsdWUudG9Mb3dlckNhc2UoKVxuXHRjb25zdCBtZW1iZXJDb2xvcnMgPSBBcnJheS5mcm9tKFxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWVtYmVyX19jb2xvclwiKVxuXHQpLm1hcChjb2xvciA9PiBjb2xvci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3Iuc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCkpXG5cdGlmICghY2hlY2tDb2xvckF2YWlsYWJpbGl0eShzZWxlY3RlZENvbG9yKSkge1xuXHRcdGFsZXJ0KGBDb2xvciAke3NlbGVjdGVkQ29sb3J9IGlzIGFscmVhZHkgaW4gdXNlIGJ5IGFub3RoZXIgZmFtaWx5IG1lbWJlci5gKVxuXHRcdHJldHVyblxuXHR9XG5cblx0Y29uc3QgbmV3TWVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpXG5cdG5ld01lbWJlci5jbGFzc0xpc3QuYWRkKFwibWVtYmVyXCIpXG5cblx0Y29uc3QgbWVtYmVyQ29sb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5cdG1lbWJlckNvbG9yLmNsYXNzTGlzdC5hZGQoXCJtZW1iZXJfX2NvbG9yXCIpXG5cdG1lbWJlckNvbG9yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI1wiICsgc2VsZWN0ZWRDb2xvclxuXG5cdGNvbnN0IG1lbWJlck5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKVxuXHRtZW1iZXJOYW1lLmlubmVySFRNTCA9IG5ld01lbWJlck5hbWVcblxuXHRjb25zdCBtZW1iZXJJZCA9XG5cdFx0RGF0ZS5ub3coKS50b1N0cmluZygzNikgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgNSlcblx0bmV3TWVtYmVyLnNldEF0dHJpYnV0ZShcImlkXCIsIGBtZW1iZXItJHttZW1iZXJJZH1gKVxuXG5cdGNvbnN0IG5ld01lbWJlck9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIilcblx0bmV3TWVtYmVyT3B0aW9uLnZhbHVlID0gbmV3TWVtYmVyTmFtZVxuXHRuZXdNZW1iZXJPcHRpb24udGV4dENvbnRlbnQgPSBuZXdNZW1iZXJOYW1lXG5cdG5ld01lbWJlck9wdGlvbi5kYXRhc2V0LmNvbG9yID0gc2VsZWN0ZWRDb2xvclxuXHRtZW1iZXJTZWxlY3QuYXBwZW5kQ2hpbGQobmV3TWVtYmVyT3B0aW9uKVxuXG5cdG5ld01lbWJlci5hcHBlbmRDaGlsZChtZW1iZXJDb2xvcilcblx0bmV3TWVtYmVyLmFwcGVuZENoaWxkKG1lbWJlck5hbWUpXG5cdG1lbWJlcnNMaXN0LmFwcGVuZENoaWxkKG5ld01lbWJlcilcblxuXHRuZXdDb2xvclNlbGVjdFxuXHRcdC5xdWVyeVNlbGVjdG9yKGBvcHRpb25bdmFsdWU9JyR7c2VsZWN0ZWRDb2xvcn0nXWApXG5cdFx0LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpXG5cblx0Y2xlYXJJbnB1dHMoKVxuXHRjbG9zZVdpbmRvdygpXG59XG5cbmNvbnN0IHNhdmVUYXNrID0gKCkgPT4ge1xuXHRjcmVhdGVOZXdUYXNrKClcblx0Y2xlYXJJbnB1dHMoKVxuXHRjbG9zZVdpbmRvdygpXG59XG50YXNrSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXZlbnQgPT4ge1xuXHRpZiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcblx0XHRzYXZlVGFzaygpXG5cdH1cbn0pXG5cbmFkZFRhc2tCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNob3dUYXNrQ3JlYXRvcilcbmNhbmNlbE5ld1Rhc2tCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlV2luZG93KVxuc2F2ZU5ld1Rhc2tCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNhdmVUYXNrKVxuXG5hZGRNZW1iZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNob3dNZW1iZXJDcmVhdG9yKVxuY2FuY2VsTWVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZVdpbmRvdylcbnNhdmVNZW1iZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNhdmVOZXdNZW1iZXIpXG4iXX0=
